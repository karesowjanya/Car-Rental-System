<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card shadow-lg border-0 rounded-4 bg-light-blue">
        <!-- Header -->
        <div class="card-header text-white text-center py-4" style="background: linear-gradient(135deg, #4dabf7, #228be6);">
          <h3 class="mb-1 fw-bold">Welcome Back</h3>
          <p class="mb-0">Please login to your account</p>
        </div>

        <div class="text-center mt-3 login-toggle-buttons">
          <button class="btn btn-outline-primary me-2"(click)="toggleLoginMode(false)">User Login</button>
          <button class="btn btn-outline-primary"(click)="toggleLoginMode(true)">Admin Login</button>
        </div>

        <!-- Body -->
        <div class="card-body p-4 bg-white rounded-bottom">
          <form *ngIf="!isAdminLogin" [formGroup]="myForm" (ngSubmit)="validate()">
            <!-- Username -->
            <div class="mb-3">
              <label for="userName" class="form-label text-primary">Username</label>
              <input type="text" id="userName" formControlName="userName" class="form-control rounded-pill" placeholder="Enter username">
              <div *ngIf="myForm.controls['userName']?.touched && myForm.controls['userName']?.invalid" class="text-danger mt-1">
                <small *ngIf="myForm.get('userName')?.errors?.['required']">* Username is required</small>
                <!-- <small *ngIf="myForm.get('userName')?.errors?.['minlength']">* Minimum length is 6</small> -->
              </div>
            </div>

            <!-- Password -->
            <div class="mb-3">
              <label for="password" class="form-label text-primary">Password</label>
              <input type="password" id="password" formControlName="password" class="form-control rounded-pill" placeholder="Enter password">
              <div *ngIf="myForm.controls['password']?.touched && myForm.controls['password']?.invalid" class="text-danger mt-1">
                <small *ngIf="myForm.get('password')?.errors?.['required']">* Password is required</small>
                <!-- <small *ngIf="myForm.get('password')?.errors?.['minlength']">* Minimum length is 8</small> -->
              </div>
            </div>

            <!-- Submit Button -->
            <div class="d-grid mb-3">
              <button type="submit" class="btn btn-primary rounded-pill fw-semibold">Login</button>
            </div>
          </form>


          <form *ngIf="isAdminLogin" (ngSubmit)="onAdminLogin()">
            <div class="mb-3">
              <label for="adminUsername" class="form-label text-primary">Admin Username</label>
              <input type="text" id="adminUsername" [(ngModel)]="adminUsername" name="adminUsername" #adminUsernameRef="ngModel" class="form-control rounded-pill" placeholder="Enter admin username" required>
              <div *ngIf="adminUsernameRef.touched && adminUsernameRef.invalid" class="text-danger mt-1">
                <small>* Admin username is required</small>
              </div>
            </div>

            <div class="mb-3">
              <label for="adminPassword" class="form-label text-primary">Admin Password</label>
              <input type="password" id="adminPassword" [(ngModel)]="adminPassword" name="adminPassword" #adminPasswordRef="ngModel" class="form-control rounded-pill" placeholder="Enter admin password" required>
              <div *ngIf="adminPasswordRef.touched && adminPasswordRef.invalid" class="text-danger mt-1">
                <small>* Admin password is required</small>
              </div>
            </div>

            <div class="d-grid mb-3">
              <button type="submit" class="btn btn-primary rounded-pill fw-semibold">Login as Admin</button>
            </div>
          </form>

          <!-- Feedback Message -->
          <div *ngIf="msg && !loading" class="alert mt-3" [ngClass]="{
              'alert-success': error1 === 'green',
              'alert-danger': error1 === 'red'
            }">
            {{ msg }}
          </div>

          <!-- Loading Spinner -->
          <div *ngIf="loading" class="text-center mt-3">
            <div class="spinner-border text-primary" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <div class="card-footer text-center bg-light py-3 rounded-bottom">
          <small class="text-muted">
            Don't have an account?
            <a routerLink="/register" class="text-primary fw-semibold">Register here</a>
          </small>
        </div>
      </div>
    </div>
  </div>
</div>